<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Mr Tang" />
        <meta name="copyright" content="Mr Tang" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="mysql, MyBatis, " />

<meta property="og:title" content="Mysql常见一些操作语句 "/>
<meta property="og:url" content="http://newDreamA.github.io/mybatis/MySQL常用语句.html" />
<meta property="og:description" content="Mysql常见一些操作语句¶ 1. 创建数据库的：¶ CREATE DATABASE IF NOT EXISTS auth DEFAULT CHARSET utf8 COLLATE utf8_general_ci; 2. 自增类型定义:¶ auto_increment 3. 时间日期的格式化：¶ DATE_FORMAT(time,’%y-%m-%d %T’) mySql的日期格式化示例： DATE_FORMAT(date, format) select date_format(now(),’%y-%m-%d’); format参数说明： %S, %s 两位数字形式的秒（ 00,01, …, 59） %I, %i 两位数字形式的分（ 00,01, …, 59） %H 两位数字形式的小时 ..." />
<meta property="og:site_name" content="My Blog" />
<meta property="og:article:author" content="Mr Tang" />
<meta property="og:article:published_time" content="2016-07-12T14:50:40+08:00" />
<meta name="twitter:title" content="Mysql常见一些操作语句 ">
<meta name="twitter:description" content="Mysql常见一些操作语句¶ 1. 创建数据库的：¶ CREATE DATABASE IF NOT EXISTS auth DEFAULT CHARSET utf8 COLLATE utf8_general_ci; 2. 自增类型定义:¶ auto_increment 3. 时间日期的格式化：¶ DATE_FORMAT(time,’%y-%m-%d %T’) mySql的日期格式化示例： DATE_FORMAT(date, format) select date_format(now(),’%y-%m-%d’); format参数说明： %S, %s 两位数字形式的秒（ 00,01, …, 59） %I, %i 两位数字形式的分（ 00,01, …, 59） %H 两位数字形式的小时 ...">

        <title>Mysql常见一些操作语句  · My Blog
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="http://newDreamA.github.io/theme/css/style.min.css?7aeecf36">
        <link rel="shortcut icon" href="http://newDreamA.github.io/theme/images/favicon.ico" type="image/x-icon" type="image/png" />
        <link rel="icon" href="http://newDreamA.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="http://newDreamA.github.io/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://newDreamA.github.io/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://newDreamA.github.io/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="http://newDreamA.github.io/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://newDreamA.github.io/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="http://newDreamA.github.io/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://newDreamA.github.io/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="http://newDreamA.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link href="http://newDreamA.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="My Blog - Full Atom Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://newDreamA.github.io/"><span class=site-name>My Blog</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://newDreamA.github.io">Home</a></li>
                            <li ><a href="http://newDreamA.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://newDreamA.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://newDreamA.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://newDreamA.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://newDreamA.github.io/mybatis/MySQL常用语句.html"> Mysql常见一些操作语句  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <h2 id="mysql">Mysql常见一些操作语句<a class="headerlink" href="#mysql" title="Permanent link">&para;</a></h2>
<h5 id="1">1. 创建数据库的：<a class="headerlink" href="#1" title="Permanent link">&para;</a></h5>
<p><span class="caps">CREATE</span> <span class="caps">DATABASE</span> <span class="caps">IF</span> <span class="caps">NOT</span> <span class="caps">EXISTS</span> auth <span class="caps">DEFAULT</span> <span class="caps">CHARSET</span> utf8 <span class="caps">COLLATE</span>&nbsp;utf8_general_ci;</p>
<h5 id="2">2. 自增类型定义:<a class="headerlink" href="#2" title="Permanent link">&para;</a></h5>
<p>auto_increment</p>
<h5 id="3">3. 时间日期的格式化：<a class="headerlink" href="#3" title="Permanent link">&para;</a></h5>
<p>DATE_FORMAT(time,&#8217;%y-%m-%d %T&#8217;)<br />
mySql的日期格式化示例： DATE_FORMAT(date,&nbsp;format)   </p>
<ul>
<li>select&nbsp;date_format(now(),&#8217;%y-%m-%d&#8217;);</li>
<li>format参数说明：</li>
<li>%S, %s 两位数字形式的秒（ 00,01, &#8230;,&nbsp;59）</li>
<li>%I, %i 两位数字形式的分（ 00,01, &#8230;,&nbsp;59）</li>
<li>%H 两位数字形式的小时，24 小时（00,01, &#8230;,&nbsp;23）</li>
<li>%h 两位数字形式的小时，12 小时（01,02, &#8230;,&nbsp;12）</li>
<li>%k 数字形式的小时，24 小时（0,1, &#8230;,&nbsp;23）</li>
<li>%l 数字形式的小时，12 小时（1, 2, &#8230;,&nbsp;12）</li>
<li>%T 24&nbsp;小时的时间形式（hh:mm:ss）</li>
<li>%r 12 小时的时间形式（hh:mm:ss <span class="caps">AM</span> 或hh:mm:ss <span class="caps">PM</span>）</li>
<li>%p <span class="caps">AM</span>或<span class="caps">PM</span></li>
<li>%W 一周中每一天的名称（Sunday, Monday, &#8230;,&nbsp;Saturday）</li>
<li>%a 一周中每一天名称的缩写（Sun, Mon, &#8230;,&nbsp;Sat）</li>
<li>%d 两位数字表示月中的天数（00, 01,&#8230;,&nbsp;31）</li>
<li>%e 数字形式表示月中的天数（1, 2， &#8230;,&nbsp;31）</li>
<li>%D 英文后缀表示月中的天数（1st, 2nd,&nbsp;3rd,&#8230;）</li>
<li>%w 以数字形式表示周中的天数（ 0 = Sunday, 1=Monday, &#8230;,&nbsp;6=Saturday）</li>
<li>%j 以三位数字表示年中的天数（ 001, 002, &#8230;,&nbsp;366）</li>
<li>%U 周（0, 1, 52），其中Sunday&nbsp;为周中的第一天</li>
<li>%u 周（0, 1, 52），其中Monday&nbsp;为周中的第一天</li>
<li>%M 月名（January, February, &#8230;,&nbsp;December）</li>
<li>%b 缩写的月名（ January, February,&#8230;.,&nbsp;December）</li>
<li>%m 两位数字表示的月份（01, 02, &#8230;,&nbsp;12）</li>
<li>%c 数字表示的月份（1, 2, &#8230;.,&nbsp;12）</li>
<li>%Y&nbsp;四位数字表示的年份</li>
<li>%y&nbsp;两位数字表示的年份</li>
<li>%%&nbsp;直接值“%”</li>
</ul>
<h5 id="4">4.插入数据检查数据是否存在：<a class="headerlink" href="#4" title="Permanent link">&para;</a></h5>
<p>当记录不存在的时插入，当记录存在时更新<br />
 在insert中使用 <span class="caps">ON</span> <span class="caps">DUPLICATE</span> <span class="caps">KEY</span> <span class="caps">UPDATE</span> </p>
<h5 id="5-datetime">5. 解决datetime类型的比较问题，<a class="headerlink" href="#5-datetime" title="Permanent link">&para;</a></h5>
<p>使用STR_TO_DATE函数，例如  add_time &gt;=STR_TO_DATE(&#8216;2016-06-28 13:22:12&#8217;,&#8217;%Y-%m-%d&nbsp;%H:%i:%s&#8217;)</p>
<h5 id="6">6. 删除原先主键，重新生成主键<a class="headerlink" href="#6" title="Permanent link">&para;</a></h5>
<p><span class="caps">ALTER</span> <span class="caps">TABLE</span> table_name
<span class="caps">ADD</span> <span class="caps">COLUMN</span> id  <span class="caps">INT</span>(11) <span class="caps">NOT</span> <span class="caps">NULL</span> AUTO_INCREMENT <span class="caps">AFTER</span> name_field,
<span class="caps">DROP</span> <span class="caps">PRIMARY</span> <span class="caps">KEY</span>,
<span class="caps">ADD</span> <span class="caps">PRIMARY</span> <span class="caps">KEY</span>&nbsp;(id);</p>
            <section>
    <p id="post-share-links">
    Share on:
    <a href="http://twitter.com/home?status=Mysql%E5%B8%B8%E8%A7%81%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A5%20http%3A//newDreamA.github.io/mybatis/MySQL%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5.html" target="_blank" title="Share on Twitter">Twitter</a>
    ❄
    <a href="http://www.facebook.com/sharer/sharer.php?u=http%3A//newDreamA.github.io/mybatis/MySQL%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5.html" target="_blank" title="Share on Facebook">Facebook</a>
    ❄
    <a href="https://plus.google.com/share?url=http%3A//newDreamA.github.io/mybatis/MySQL%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5.html" target="_blank" title="Share on Google Plus">Google+</a>
    ❄
    <a href="mailto:?subject=Mysql%E5%B8%B8%E8%A7%81%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A5&amp;body=http%3A//newDreamA.github.io/mybatis/MySQL%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5.html" target="_blank" title="Share via Email">Email</a>
    </p>
</section>

            
            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="http://newDreamA.github.io/java/java常见错误总结.html" title="Previous: java错误归纳">java错误归纳</a></li>
                <li class="next-article"><a href="http://newDreamA.github.io/java/java常见方法总结.html" title="Next: java常见方法总结">java常见方法总结</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2016-07-12T14:50:40+08:00"> 7 12, 2016</time>
            <h4>Category</h4>
            <a class="category-link" href="http://newDreamA.github.io/categories.html#mybatis-ref">MyBatis</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://newDreamA.github.io/tags.html#mysql-ref">mysql
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>